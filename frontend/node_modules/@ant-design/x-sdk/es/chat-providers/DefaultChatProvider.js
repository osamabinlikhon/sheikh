import AbstractChatProvider from "./AbstractChatProvider";
export default class DefaultChatProvider extends AbstractChatProvider {
  transformParams(requestParams, options) {
    if (typeof requestParams !== 'object') {
      throw new Error('requestParams must be an object');
    }
    return {
      ...(options?.params || {}),
      ...(requestParams || {})
    };
  }
  transformLocalMessage(requestParams) {
    return requestParams;
  }
  transformMessage(info) {
    const {
      chunk,
      chunks,
      originMessage
    } = info;
    if (chunk) {
      return chunk;
    }
    if (Array.isArray(chunks)) {
      const chunk = chunks?.length > 0 ? chunks?.[chunks?.length - 1] : undefined;
      return originMessage ? originMessage : chunk;
    }
    return chunks;
  }
}