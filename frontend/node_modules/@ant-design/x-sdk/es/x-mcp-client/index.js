import XRequest from "../x-request";
class XMCPClientClass {
  baseURL;
  options;
  constructor(baseURL, options) {
    if (!baseURL || typeof baseURL !== 'string') throw new Error('The baseURL is not valid!');
    this.baseURL = baseURL;
    this.options = options;
  }
  async tools() {
    return new Promise((resolve, reject) => {
      XRequest(this.baseURL, {
        ...this.options,
        callbacks: {
          onSuccess(chunks) {
            resolve(chunks[0]);
          },
          onError: error => {
            reject(error);
          }
        }
      });
    });
  }
}
function XMCPClient(baseURL, options) {
  return new XMCPClientClass(baseURL, options);
}
export default XMCPClient;