export type ConversationKey = string | number | symbol;
export declare const chatMessagesStoreHelper: {
    _chatMessagesStores: Map<ConversationKey, ChatMessagesStore<any>>;
    get: (conversationKey: ConversationKey) => ChatMessagesStore<any> | undefined;
    set: (key: ConversationKey, store: ChatMessagesStore<any>) => void;
    delete: (key: ConversationKey) => void;
    getMessages: (conversationKey: ConversationKey) => any[] | undefined;
};
export declare class ChatMessagesStore<T extends {
    id: number | string;
}> {
    private listeners;
    private conversationKey;
    private snapshotResult;
    private throttleTimer;
    private pendingEmit;
    private readonly throttleInterval;
    private isDestroyed;
    private emitListeners;
    private throttledEmitListeners;
    constructor(defaultMessages: () => Promise<T[]>, conversationKey?: ConversationKey);
    private initializeMessages;
    private setSnapshotResult;
    private setMessagesInternal;
    setMessages: (messages: T[] | ((ori: T[]) => T[])) => boolean;
    getMessages: () => T[];
    getMessage: (id: string | number) => T | undefined;
    addMessage: (message: T) => boolean;
    setMessage: (id: string | number, message: Partial<T> | ((message: T) => Partial<T>)) => boolean;
    removeMessage: (id: string | number) => boolean;
    getSnapshot: () => {
        messages: T[];
        isDefaultMessagesRequesting: boolean;
    };
    subscribe: (callback: () => void) => () => void;
    /**
     * Clean up resources (throttle timer) when the store is no longer needed.
     * Should be called when the component unmounts or the store is disposed.
     */
    destroy: () => void;
}
export declare function useChatStore<T extends {
    id: number | string;
}>(defaultValue: () => Promise<T[]>, conversationKey: ConversationKey): {
    messages: T[];
    isDefaultMessagesRequesting: boolean;
    addMessage: (message: T) => boolean;
    removeMessage: (id: string | number) => boolean;
    setMessage: (id: string | number, message: Partial<T> | ((message: T) => Partial<T>)) => boolean;
    getMessage: (id: string | number) => T | undefined;
    setMessages: (messages: T[] | ((ori: T[]) => T[])) => boolean;
    getMessages: () => T[];
};
