"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _xRequest = _interopRequireDefault(require("../x-request"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
class XMCPClientClass {
  baseURL;
  options;
  constructor(baseURL, options) {
    if (!baseURL || typeof baseURL !== 'string') throw new Error('The baseURL is not valid!');
    this.baseURL = baseURL;
    this.options = options;
  }
  async tools() {
    return new Promise((resolve, reject) => {
      (0, _xRequest.default)(this.baseURL, {
        ...this.options,
        callbacks: {
          onSuccess(chunks) {
            resolve(chunks[0]);
          },
          onError: error => {
            reject(error);
          }
        }
      });
    });
  }
}
function XMCPClient(baseURL, options) {
  return new XMCPClientClass(baseURL, options);
}
var _default = exports.default = XMCPClient;